<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>T&G — 가이드 소개</title>
  <meta name="description" content="T&G 가이드 상세 소개">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ===== Theme tokens (after_login과 통일) ===== */
    :root{
      --bg-top:#eaf2ff; --bg-1:#f3f8fd; --bg-2:#ffffff;
      --ink:#111827; --muted:#6b7280; --ink-2:#334155;
      --brand:#106466; --brand-2:#0e7c86; --accent:#6D4DE6;
      --card:#ffffff; --line:rgba(17,24,39,.10); --line-2:rgba(17,24,39,.14);
      --shadow:0 2px 14px rgba(17,24,39,.06); --shadow-h:0 8px 28px rgba(17,24,39,.10);
      --focus:#6D4DE6;
      --radius:10px; --radius-lg:14px;
      --success:#16a34a; --warn:#f59e0b;
      --danger:#dc2626;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--ink);
      font-family:"Pretendard","Noto Sans KR",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
      background:
        radial-gradient(120% 90% at 50% -25%, rgba(0,53,128,.16), transparent 70%),
        linear-gradient(180deg, var(--bg-top) 0%, var(--bg-1) 35%, var(--bg-2) 100%);
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    :focus-visible{outline:3px solid var(--focus); outline-offset:2px; border-radius:8px}

    /* ===== Header (after_login 스타일 재사용) ===== */
    .hd{position:sticky; top:0; z-index:50; backdrop-filter: blur(6px); background:rgba(255,255,255,.92); border-bottom:1px solid var(--line)}
    .row{max-width:1180px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; justify-content:space-between}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--ink-2); font-weight:900; letter-spacing:.2px}
    .brand img{height:36px; width:auto; filter:saturate(0.9) contrast(1.05)}
    .nav{display:flex; gap:10px; align-items:center}
    .nav a, .nav button{
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px solid var(--line);
      background:#fff; color:var(--ink-2); text-decoration:none; cursor:pointer; font-weight:800;
    }
    .nav a:hover, .nav button:hover{background:#f6f7fb}

    /* ===== Page layout ===== */
    .wrap{max-width:1180px; margin:22px auto 40px; padding:0 20px}

    /* Hero gallery */
    .hero{display:grid; grid-template-columns:2fr 1fr; gap:10px; margin-bottom:16px}
    .hero .big{position:relative; aspect-ratio:16/9; border-radius:14px; overflow:hidden; background:#eef2f8; border:1px solid var(--line)}
    .hero .big img{width:100%;height:100%;object-fit:cover;display:block;filter:saturate(.98)}
    .hero .grid{display:grid; gap:10px; grid-template-rows:1fr 1fr}
    .hero .grid .cell{position:relative; border-radius:14px; overflow:hidden; border:1px solid var(--line); background:#eef2f8}
    .hero .grid img{width:100%;height:100%;object-fit:cover;display:block}
    .btn-ghost{
      position:absolute; right:10px; bottom:10px; z-index:2;
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px;
      background:rgba(255,255,255,.95); border:1px solid var(--line); color:var(--ink-2); font-weight:800; cursor:pointer;
      box-shadow:var(--shadow);
    }

    /* Main 2-col */
    .content{display:grid; grid-template-columns: 1.3fr .7fr; gap:18px}
    @media(max-width:980px){ .content{grid-template-columns:1fr} }

    .panel{
      background:var(--card); border:1px solid var(--line-2); border-radius:14px; box-shadow:var(--shadow);
    }

    /* Left: details */
    .left{padding:16px}
    .title-row{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px}
    .title{margin:0; font-size:1.6rem; letter-spacing:.2px; color:var(--ink-2)}
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{border:1px solid var(--line); border-radius:999px; padding:6px 10px; font-weight:800; font-size:.86rem; color:var(--ink-2); background:#fff}
    .subtle{color:var(--muted); font-size:.95rem}

    .guide-row{display:flex; gap:12px; align-items:center; margin:8px 0 14px}
    .avatar{width:52px;height:52px;border-radius:12px;border:1px solid var(--line);object-fit:cover}
    .g-meta b{color:var(--ink-2)}
    .badges{display:flex; gap:8px; flex-wrap:wrap; margin-top:6px}
    .badge{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:8px; border:1px solid var(--line); background:#fff; font-size:.84rem}
    .badge i{color:var(--success)}

    .section{margin-top:14px}
    .section h3{margin:0 0 8px; font-size:1.1rem; color:var(--ink-2)}
    .list{display:grid; gap:8px}
    .list li{display:flex; gap:8px; align-items:flex-start}
    .list i{color:var(--accent); margin-top:3px}

    .map{height:240px; border:1px solid var(--line); border-radius:12px; background:
      linear-gradient(180deg,#f7fbff,#fff);
      display:flex; align-items:center; justify-content:center; color:#91a1b2}

    /* Right: sticky booking card */
    .right{position:relative}
    .sticky{position:sticky; top:74px; padding:14px}
    .book{
      border:1px solid var(--line-2); border-radius:14px; background:#fff; box-shadow:var(--shadow-h); padding:14px;
    }
    .price{font-size:1.4rem; font-weight:900; color:var(--ink-2)}
    .muted{color:var(--muted); font-size:.92rem}
    .f{display:grid; gap:10px; margin-top:10px}
    .f label{font-weight:800; color:var(--ink)}
    .f input, .f select{
      width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:10px; background:#fff; color:var(--ink)
    }
    .btn-primary{
      width:100%; padding:12px 14px; border:none; border-radius:10px; font-weight:900; letter-spacing:.2px; cursor:pointer;
      background:linear-gradient(180deg, var(--brand) 0%, var(--brand-2) 100%); color:#fff; box-shadow:0 10px 26px rgba(0,53,128,.18)
    }
    .note{margin-top:8px; font-size:.86rem; color:var(--muted)}
    .hp{display:flex; align-items:center; gap:8px; margin-top:8px; color:var(--muted)}
    .hp i{color:var(--warn)}

    /* Accordion (FAQ) */
    .acc{border:1px solid var(--line); border-radius:12px; overflow:hidden}
    .acc dt{background:#f7f9ff; padding:10px 12px; border-bottom:1px solid var(--line); font-weight:900; cursor:pointer; display:flex; align-items:center; justify-content:space-between}
    .acc dd{margin:0; padding:10px 12px; display:none; background:#fff}
    .acc dt.active + dd{display:block}

    /* Reviews */
    .reviews{display:grid; gap:10px}
    .rev{border:1px solid var(--line); border-radius:12px; padding:10px; background:#fff}
    .rev .head{display:flex; align-items:center; gap:10px}
    .rev .head img{width:38px;height:38px;border-radius:10px;border:1px solid var(--line);object-fit:cover}
    .stars{color:#f59e0b}

    /* Footer */
    footer{border-top:1px solid var(--line); margin-top:40px; background:#f2f4f8}
    .ft{max-width:1180px; margin:0 auto; padding:22px 20px; text-align:center; color:var(--muted)}
    .ft .links{display:flex; gap:16px; justify-content:center; margin:8px 0 6px}
    .ft a{color:var(--muted); text-decoration:none}
    .ft a:hover{color:var(--ink-2)}

    /* Floating Chat Button (톤온톤) */
    .chat-fab{
      position:fixed; right:22px; bottom:22px; z-index:80;
      width:56px; height:56px; border-radius:14px; border:1px solid var(--line);
      background:linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 10px 26px rgba(0,0,0,.12);
      color:var(--ink-2); cursor:pointer; text-decoration:none;
      transition:transform .12s ease, box-shadow .2s ease, background .2s ease;
    }
    .chat-fab:hover{ transform:translateY(-2px); box-shadow:0 14px 34px rgba(0,0,0,.16) }
    .chat-fab i{ font-size:1.2rem }
    @media (max-width:560px){ .chat-fab{ right:12px; bottom:12px; } }
  </style>
</head>
<body>
  <!-- header -->
  <header class="hd">
    <div class="row">
      <a href="index.html" class="brand" aria-label="T&G 홈">
        <img src="images/logo.png" alt="T&G 로고" onerror="this.onerror=null;this.src=window.__PLH__;">
        <span>T&G</span>
      </a>
      <nav class="nav" aria-label="주요 메뉴">
        <a href="after_login.html"><i class="fa-solid fa-grid-2"></i> 대시보드</a>
        <a href="guide_index.html"><i class="fa-solid fa-user-group"></i> Local mate</a>
        <a href="chat.html" target="_blank" rel="noopener"><i class="fa-regular fa-comments"></i> 채팅</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <!-- hero gallery -->
    <section class="hero" aria-label="가이드 갤러리">
      <div class="big">
        <img src="images/경복궁.jpg" alt="경복궁 투어 대표 이미지" onerror="this.onerror=null;this.src=window.__PLH__;">
        <button class="btn-ghost" id="openGallery"><i class="fa-regular fa-image"></i> 전체 사진 보기</button>
      </div>
      <div class="grid">
        <div class="cell"><img src="images/경복궁4.jpg" alt="서울숲 스냅" onerror="this.onerror=null;this.src=window.__PLH__;"></div>
        <div class="cell"><img src="images/경복궁5.jpg" alt="한강 자전거" onerror="this.onerror=null;this.src=window.__PLH__;"></div>
      </div>
    </section>

    <section class="content">
      <!-- Left column -->
      <article class="panel left" role="main">
        <div class="title-row">
          <h1 class="title">서울 경복궁 여행 · 김민수</h1>
          <div class="chips">
            <span class="chip"><i class="fa-solid fa-language"></i> KR/EN</span>
            <span class="chip"><i class="fa-solid fa-user-group"></i> 최대 6인</span>
            <span class="chip"><i class="fa-solid fa-train-subway"></i> 대중교통 이동</span>
          </div>
        </div>
        <div class="guide-row">
          <img class="avatar" src="https://i.pravatar.cc/60?img=12" alt="가이드 김민수">
          <div class="g-meta">
            <div><b>김민수</b> · 5년 경력 · 응답 보통 1시간 내</div>
            <div class="badges">
              <span class="badge"><i class="fa-solid fa-shield-heart"></i> 검증 완료</span>
              <span class="badge"><i class="fa-solid fa-star"></i> 평점 4.9</span>
              <span class="badge"><i class="fa-solid fa-thumbs-up"></i> 추천 98%</span>
            </div>
          </div>
        </div>

        <p class="subtle">서울의 역사와 로컬 라이프를 한 번에! 북촌–경복궁–광장시장–한강까지 4시간 코스.</p>

        <div class="section">
          <h3><i class="fa-solid fa-map-location-dot"></i> 하이라이트</h3>
          <ul class="list">
            <li><i class="fa-solid fa-check-circle"></i><div>경복궁에서 전통과 건축 이야기 +포토 스팟 촬영</div></li>
            <li><i class="fa-solid fa-check-circle"></i><div>북촌 골목 산책 & 공방 체험(선택)</div></li>
            <li><i class="fa-solid fa-check-circle"></i><div>광장시장 길거리 음식(비건/할랄 옵션 안내)</div></li>
            <li><i class="fa-solid fa-check-circle"></i><div>한강 피크닉, 황금 시간대 야경</div></li>
          </ul>
        </div>

        <div class="section">
          <h3><i class="fa-solid fa-circle-info"></i> 준비물/유의사항</h3>
          <ul class="list">
            <li><i class="fa-solid fa-umbrella"></i><div>우천 시 일부 동선 조정, 우비 제공</div></li>
            <li><i class="fa-solid fa-ticket"></i><div>입장료/교통비 별도 (현장 결제 안내)</div></li>
            <li><i class="fa-solid fa-heart-pulse"></i><div>가벼운 걷기 포함(총 4–6km)</div></li>
          </ul>
        </div>

        <div class="section">
          <h3><i class="fa-solid fa-map"></i> 만나는 장소</h3>
          <div class="map" id="map">지도를 불러올 수 없습니다 (데모)</div>
        </div>

        <div class="section">
          <h3><i class="fa-solid fa-message"></i> 자주 묻는 질문</h3>
          <dl class="acc" id="faq">
            <dt>비 오는 날에도 진행하나요? <i class="fa-solid fa-angle-down"></i></dt>
            <dd>네, 안전에 지장이 없는 범위에서 실내 위주로 동선을 조정해 진행합니다.</dd>
            <dt>유모차/휠체어 접근 가능한가요? <i class="fa-solid fa-angle-down"></i></dt>
            <dd>북촌 구간에 경사와 계단이 있어 부분 보조가 필요합니다. 사전 문의 주세요.</dd>
            <dt>사진은 찍어 주시나요? <i class="fa-solid fa-angle-down"></i></dt>
            <dd>네, 가이드 기기(스마트폰)로 촬영해 원본을 전달드립니다.</dd>
          </dl>
        </div>

        <div class="section">
          <h3><i class="fa-solid fa-star-half-stroke"></i> 후기</h3>
          <div class="reviews">
            <div class="rev">
              <div class="head">
                <img src="https://i.pravatar.cc/40?img=22" alt="리뷰어 아바타">
                <div><b>Jane</b> · <span class="stars">★★★★★</span></div>
              </div>
              <p class="subtle" style="margin:6px 0 0">숨은 골목까지 보여주셔서 진짜 로컬 여행 같았어요!</p>
            </div>
            <div class="rev">
              <div class="head">
                <img src="https://i.pravatar.cc/40?img=45" alt="리뷰어 아바타">
                <div><b>Taichi</b> · <span class="stars">★★★★☆</span></div>
              </div>
              <p class="subtle" style="margin:6px 0 0">사진 포인트가 좋아요. 저녁 야경이 특히 멋졌습니다.</p>
            </div>
          </div>
        </div>
      </article>

      <!-- Right column: booking -->
      <aside class="right">
        <div class="sticky">
          <div class="book" aria-labelledby="bookTitle">
            <div class="price" id="bookTitle">₩30,000 <span class="muted">/인 (기본 2인)</span></div>
            <div class="hp"><i class="fa-solid fa-shield-halved"></i> 결제는 현장/메시지 링크(데모)</div>
            <div class="f" id="bookForm">
              <div>
                <label for="date">날짜</label>
                <input type="date" id="date" required>
              </div>
              <div>
                <label for="time">시간</label>
                <select id="time" required>
                  <option value="">선택하세요</option>
                  <option>10:00</option><option>14:00</option><option>18:30</option>
                </select>
              </div>
              <div>
                <label for="people">인원</label>
                <select id="people">
                  <option>2</option><option>3</option><option>4</option><option>5</option><option>6</option>
                </select>
              </div>
              <button class="btn-primary" id="reqBtn"><i class="fa-solid fa-calendar-check"></i> 예약 요청</button>
            </div>
            <div class="note"><i class="fa-solid fa-circle-exclamation"></i> 결제/확정은 채팅으로 안내됩니다.</div>
            <div class="hp"><i class="fa-solid fa-clock"></i> 보통 1시간 내 응답</div>
          </div>

          <div style="margin-top:12px; display:flex; gap:8px">
            <button class="nav btn-ghost" id="shareBtn" type="button"><i class="fa-solid fa-share-nodes"></i> 공유</button>
            <button class="nav btn-ghost" id="wishBtn" type="button"><i class="fa-regular fa-bookmark"></i> 저장</button>
          </div>
        </div>
      </aside>
    </section>
  </main>

  <!-- footer -->
  <footer>
    <div class="ft">
      <div class="links" style="margin-bottom:10px">
        <a href="mailto:yoohs0329@hanyang.ac.kr"><i class="fa-solid fa-envelope"></i> yoohs0329@hanyang.ac.kr</a>
      </div>
      <div class="links" aria-label="Policies">
        <a href="#">FAQ</a><a href="#">Terms</a><a href="#">Privacy</a>
      </div>
      <div style="margin-top:8px">© 2025 T&G. All rights reserved.</div>
    </div>
  </footer>

  <!-- Chat shortcut -->
  <a class="chat-fab" href="chat.html" aria-label="채팅 열기">
    <i class="fa-regular fa-comment-dots" aria-hidden="true"></i>
  </a>

  <script>
    // ===== 이미지 플레이스홀더 =====
    window.__PLH__ = 'data:image/svg+xml;utf8,' + encodeURIComponent(
      '<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="900"><rect width="100%" height="100%" fill="#e9eef5"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#94a3b8" font-size="28" font-family="Arial">이미지를 불러올 수 없습니다</text></svg>'
    );

    // 갤러리(데모): 대표 이미지 확대 모달
    (function(){
      const btn = document.getElementById('openGallery');
      if(!btn) return;
      btn.addEventListener('click', ()=>{
        const srcs = [
          'images/경복궁.jpg','images/경복궁4.jpg','images/경복궁5.jpg'
        ];
        const html = `
          <div id="galleryModal" style="position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:120">
            <div style="background:#fff;border-radius:14px;max-width:900px;width:92%;padding:10px;border:1px solid var(--line)">
              <div style="display:grid;gap:8px;grid-template-columns:repeat(3,1fr)">
                ${srcs.map(s=>`<div style="border:1px solid var(--line);border-radius:10px;overflow:hidden;background:#f3f4f6"><img src="${s}" alt="갤러리" style="width:100%;height:180px;object-fit:cover" onerror="this.onerror=null;this.src=window.__PLH__;"></div>`).join('')}
              </div>
              <div style="text-align:right;margin-top:10px">
                <button onclick="document.getElementById('galleryModal').remove()" class="nav" style="padding:8px 12px;border-radius:10px;border:1px solid var(--line);background:#fff">닫기</button>
              </div>
            </div>
          </div>`;
        document.body.insertAdjacentHTML('beforeend', html);
      });
    })();

    // FAQ 아코디언
    (function(){
      const root = document.getElementById('faq'); if(!root) return;
      root.querySelectorAll('dt').forEach(dt=>{
        dt.addEventListener('click', ()=>{
          dt.classList.toggle('active');
          const icon = dt.querySelector('i.fa-angle-down');
          if(icon){ icon.style.transform = dt.classList.contains('active') ? 'rotate(180deg)' : 'rotate(0)'; icon.style.transition='transform .2s'; }
        });
      });
    })();

    // 공유 / 저장(로컬)
    (function(){
      const shareBtn = document.getElementById('shareBtn');
      const wishBtn  = document.getElementById('wishBtn');
      shareBtn?.addEventListener('click', async ()=>{
        try{
          if(navigator.share){
            await navigator.share({ title: document.title, url: location.href });
          }else{
            await navigator.clipboard.writeText(location.href);
            alert('링크가 복사되었습니다.');
          }
        }catch{}
      });
      const KEY = 'tg_wishlist_v1';
      const saved = JSON.parse(localStorage.getItem(KEY)||'{}');
      const id = 'guide-km';
      if(saved[id]){ wishBtn.querySelector('i').classList.remove('fa-regular'); wishBtn.querySelector('i').classList.add('fa-solid'); }
      wishBtn?.addEventListener('click', ()=>{
        const on = !saved[id];
        saved[id]=on; localStorage.setItem(KEY, JSON.stringify(saved));
        wishBtn.querySelector('i').classList.toggle('fa-solid', on);
        wishBtn.querySelector('i').classList.toggle('fa-regular', !on);
      });
    })();

    // 예약 요청(프런트 검증만)
    (function(){
      const btn = document.getElementById('reqBtn');
      const date = document.getElementById('date');
      const time = document.getElementById('time');
      const people = document.getElementById('people');
      btn?.addEventListener('click', ()=>{
        if(!date.value || !time.value){ alert('날짜와 시간을 선택해주세요.'); return; }
        const msg = `예약 요청 내용을 전송합니다.\n- 날짜: ${date.value}\n- 시간: ${time.value}\n- 인원: ${people.value}명\n\n채팅 페이지로 이동할까요?`;
        if(confirm(msg)) location.href = 'chat.html';
      });
    })();
  </script>
</body>
</html>
